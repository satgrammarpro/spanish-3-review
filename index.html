<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spanish 3 Complete Mastery - With Progress Saving</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            overflow-x: auto;
            border-bottom: 3px solid #667eea;
            flex-wrap: wrap;
        }

        .nav-tab {
            padding: 15px 20px;
            cursor: pointer;
            background: #e9ecef;
            border: none;
            font-size: 15px;
            font-weight: 600;
            color: #495057;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .nav-tab:hover {
            background: #dee2e6;
        }

        .nav-tab.active {
            background: white;
            color: #667eea;
        }

        .content {
            padding: 40px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .vocab-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            border-left: 5px solid #667eea;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .vocab-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .vocab-card.mastered {
            border-left-color: #28a745;
            background: #d4edda;
        }

        .vocab-card .spanish {
            font-size: 1.3em;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 10px;
        }

        .vocab-card.mastered .spanish {
            color: #28a745;
        }

        .vocab-card .english {
            color: #666;
            font-size: 1.1em;
            display: none;
        }

        .vocab-card.revealed .english {
            display: block;
        }

        .vocab-card .reveal-hint {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 0.9em;
            color: #999;
        }

        .vocab-card.mastered .reveal-hint::after {
            content: ' ‚úì';
            color: #28a745;
            font-weight: bold;
        }

        .section-intro {
            background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .section-intro h2 {
            font-size: 2em;
            margin-bottom: 10px;
            color: #333;
        }

        .score-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-weight: 600;
            color: #667eea;
            z-index: 1000;
        }

        .quiz-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .quiz-question {
            font-size: 1.6em;
            color: #333;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .quiz-input {
            width: 100%;
            padding: 15px;
            border: 3px solid #dee2e6;
            border-radius: 10px;
            font-size: 1.1em;
            margin: 15px 0;
        }

        .quiz-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .quiz-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px 5px;
        }

        .quiz-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .quiz-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            font-weight: 600;
            display: none;
            font-size: 1.1em;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 3px solid #c3e6cb;
            display: block;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 3px solid #f5c6cb;
            display: block;
        }

        .feedback.hint {
            background: #fff3cd;
            color: #856404;
            border: 3px solid #ffc107;
            display: block;
        }

        .controls {
            margin: 20px 0;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-reset {
            background: #dc3545;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }

        .btn-reset:hover {
            background: #c82333;
        }

        .search-box {
            width: 100%;
            padding: 15px;
            border: 3px solid #667eea;
            border-radius: 10px;
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
        }

        .preterite-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .preterite-table th, .preterite-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        .preterite-table th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }

        .preterite-table td {
            background: white;
            color: #333;
            font-size: 1.1em;
        }

        .preterite-table tr:hover td {
            background: #f8f9fa;
        }

        .conjugation-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 15px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .conjugation-card h4 {
            font-size: 1.5em;
            margin-bottom: 20px;
        }

        .conjugation-card p {
            font-size: 1.1em;
            line-height: 1.8;
            margin: 10px 0;
        }

        .conjugation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .conjugation-item {
            background: rgba(255,255,255,0.25);
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1em;
            backdrop-filter: blur(10px);
        }

        .conjugation-item strong {
            display: block;
            margin-bottom: 5px;
            font-size: 1.05em;
        }

        .stats-banner {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .stats-banner h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .vocab-grid {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="score-display">
        Mastered: <span id="mastered">0</span> / <span id="total-words">489</span>
    </div>

    <div class="container">
        <header>
            <h1>üéì Spanish 3 Complete Vocabulary Mastery</h1>
            <p>All 489 Words + Pret√©rito Tense | Progress Saved Automatically! üíæ</p>
        </header>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showSection('all-vocab')">All Vocabulary</button>
            <button class="nav-tab" onclick="showSection('preterite')">Pret√©rito Tense</button>
            <button class="nav-tab" onclick="showSection('regular-verbs')">Regular Verbs</button>
            <button class="nav-tab" onclick="showSection('stem-changing')">Stem-Changing</button>
            <button class="nav-tab" onclick="showSection('irregular')">Irregular Verbs</button>
            <button class="nav-tab" onclick="showSection('reflexive')">Reflexive</button>
            <button class="nav-tab" onclick="showSection('body')">Body Parts</button>
            <button class="nav-tab" onclick="showSection('food')">Food & Drinks</button>
            <button class="nav-tab" onclick="showSection('clothes')">Clothing</button>
            <button class="nav-tab" onclick="showSection('places')">Places</button>
            <button class="nav-tab" onclick="showSection('chores')">Chores</button>
            <button class="nav-tab" onclick="showSection('sports')">Sports</button>
            <button class="nav-tab" onclick="showSection('party')">Party</button>
            <button class="nav-tab" onclick="showSection('expressions')">Expressions</button>
            <button class="nav-tab" onclick="showSection('quiz-mode')">Quiz Mode</button>
        </div>

        <div class="content">
            <!-- All Vocabulary Section -->
            <div id="all-vocab" class="section active">
                <div class="section-intro">
                    <h2>All Vocabulary - Click to Reveal & Master</h2>
                    <p>Click cards to reveal. Double-click to mark as mastered! Your progress is saved automatically.</p>
                </div>

                <div class="stats-banner">
                    <h3>üìä Your Progress Stats</h3>
                    <p>Mastered Words: <strong><span id="mastered-count">0</span></strong> | Quiz Score: <strong><span id="total-quiz-score">0</span></strong></p>
                </div>

                <input type="text" class="search-box" id="search-all" placeholder="üîç Search any word..." onkeyup="searchVocab('all')">

                <div class="progress-bar">
                    <div class="progress-fill" id="progress-all" style="width: 0%"></div>
                </div>

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('all')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('all')">Hide All</button>
                    <button class="btn-secondary" onclick="shuffleCards('all')">Shuffle</button>
                    <button class="btn-reset" onclick="resetProgress()">Reset All Progress</button>
                </div>

                <div class="vocab-grid" id="vocab-all"></div>
            </div>

            <!-- Pret√©rito Section -->
            <div id="preterite" class="section">
                <div class="section-intro">
                    <h2>Pret√©rito (Preterite) Tense</h2>
                    <p>Master all past tense conjugations including irregular verbs!</p>
                </div>

                <div class="conjugation-card">
                    <h4>Regular -AR, -ER, -IR Endings</h4>
                    <table class="preterite-table">
                        <tr>
                            <th>Subject</th>
                            <th>-AR</th>
                            <th>-ER / -IR</th>
                        </tr>
                        <tr>
                            <td><strong>Yo</strong></td>
                            <td>-√©</td>
                            <td>-√≠</td>
                        </tr>
                        <tr>
                            <td><strong>T√∫</strong></td>
                            <td>-aste</td>
                            <td>-iste</td>
                        </tr>
                        <tr>
                            <td><strong>√âl/Ella/Ud.</strong></td>
                            <td>-√≥</td>
                            <td>-i√≥</td>
                        </tr>
                        <tr>
                            <td><strong>Nosotros</strong></td>
                            <td>-amos</td>
                            <td>-imos</td>
                        </tr>
                        <tr>
                            <td><strong>Vosotros</strong></td>
                            <td>-asteis</td>
                            <td>-isteis</td>
                        </tr>
                        <tr>
                            <td><strong>Ellos/Ellas/Uds.</strong></td>
                            <td>-aron</td>
                            <td>-ieron</td>
                        </tr>
                    </table>
                </div>

                <div class="conjugation-card">
                    <h4>SER & IR (Identical in Pret√©rito)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> fui</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> fuiste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> fue</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> fuimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> fuisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> fueron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>UV Group: ESTAR (estuv-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> estuve</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> estuviste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> estuvo</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> estuvimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> estuvisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> estuvieron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>UV Group: TENER (tuv-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> tuve</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> tuviste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> tuvo</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> tuvimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> tuvisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> tuvieron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>UV Group: ANDAR (anduv-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> anduve</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> anduviste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> anduvo</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> anduvimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> anduvisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> anduvieron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>U Group: PODER (pud-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> pude</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> pudiste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> pudo</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> pudimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> pudisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> pudieron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>U Group: PONER (pus-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> puse</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> pusiste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> puso</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> pusimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> pusisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> pusieron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>I Group: QUERER (quis-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> quise</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> quisiste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> quiso</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> quisimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> quisisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> quisieron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>I Group: HACER (hic-/hiz-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> hice</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> hiciste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> hizo</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> hicimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> hicisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> hicieron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>I Group: VENIR (vin-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> vine</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> viniste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> vino</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> vinimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> vinisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> vinieron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>I Group: SABER (sup-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> supe</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> supiste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> supo</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> supimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> supisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> supieron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>J Group: DECIR (dij-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> dije</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> dijiste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> dijo</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> dijimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> dijisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> dijeron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>J Group: TRAER (traj-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> traje</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> trajiste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> trajo</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> trajimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> trajisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> trajeron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>J Group: CONDUCIR (conduj-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> conduje</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> condujiste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> condujo</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> condujimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> condujisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> condujeron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>J Group: TRADUCIR (traduj-)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> traduje</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> tradujiste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> tradujo</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> tradujimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> tradujisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> tradujeron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>DAR (Irregular)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> di</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> diste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> dio</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> dimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> disteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> dieron</div>
                    </div>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #333; font-size: 1.8em;">Stem-Changing -IR Verbs in Pret√©rito</h3>
                <p style="margin-bottom: 20px; font-size: 1.1em; color: #555;">Only -IR stem-changing verbs have changes in the pret√©rito (√©l/ella/ud. and ellos/ellas/uds. forms only)</p>

                <div class="conjugation-card">
                    <h4>DORMIR (o‚Üíu in 3rd person)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> dorm√≠</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> dormiste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> durmi√≥</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> dormimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> dormisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> durmieron</div>
                    </div>
                </div>

                <div class="conjugation-card">
                    <h4>PEDIR (e‚Üíi in 3rd person)</h4>
                    <div class="conjugation-grid">
                        <div class="conjugation-item"><strong>Yo:</strong> ped√≠</div>
                        <div class="conjugation-item"><strong>T√∫:</strong> pediste</div>
                        <div class="conjugation-item"><strong>√âl/Ella/Ud.:</strong> pidi√≥</div>
                        <div class="conjugation-item"><strong>Nosotros:</strong> pedimos</div>
                        <div class="conjugation-item"><strong>Vosotros:</strong> pedisteis</div>
                        <div class="conjugation-item"><strong>Ellos/Uds.:</strong> pidieron</div>
                    </div>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #333; font-size: 1.8em;">Spelling Changes in Pret√©rito</h3>
                <p style="margin-bottom: 20px; font-size: 1.1em; color: #555;">Verbs ending in -car, -gar, -zar change in the yo form only</p>

                <div class="conjugation-card">
                    <h4>-CAR ‚Üí -QU√â (yo form)</h4>
                    <p><strong>buscar:</strong> busqu√©, buscaste, busc√≥, buscamos, buscasteis, buscaron</p>
                    <p><strong>tocar:</strong> toqu√©, tocaste, toc√≥, tocamos, tocasteis, tocaron</p>
                    <p><strong>practicar:</strong> practiqu√©, practicaste, practic√≥, practicamos, practicasteis, practicaron</p>
                </div>

                <div class="conjugation-card">
                    <h4>-GAR ‚Üí -GU√â (yo form)</h4>
                    <p><strong>llegar:</strong> llegu√©, llegaste, lleg√≥, llegamos, llegasteis, llegaron</p>
                    <p><strong>jugar:</strong> jugu√©, jugaste, jug√≥, jugamos, jugasteis, jugaron</p>
                    <p><strong>pagar:</strong> pagu√©, pagaste, pag√≥, pagamos, pagasteis, pagaron</p>
                </div>

                <div class="conjugation-card">
                    <h4>-ZAR ‚Üí -C√â (yo form)</h4>
                    <p><strong>empezar:</strong> empec√©, empezaste, empez√≥, empezamos, empezasteis, empezaron</p>
                    <p><strong>comenzar:</strong> comenc√©, comenzaste, comenz√≥, comenzamos, comenzasteis, comenzaron</p>
                    <p><strong>almorzar:</strong> almorc√©, almorzaste, almorz√≥, almorzamos, almorzasteis, almorzaron</p>
                </div>

                <div class="conjugation-card">
                    <h4>I ‚Üí Y Change (3rd person for -eer, -aer verbs)</h4>
                    <p><strong>leer:</strong> le√≠, le√≠ste, ley√≥, le√≠mos, le√≠steis, leyeron</p>
                    <p><strong>creer:</strong> cre√≠, cre√≠ste, crey√≥, cre√≠mos, cre√≠steis, creyeron</p>
                    <p><strong>o√≠r:</strong> o√≠, o√≠ste, oy√≥, o√≠mos, o√≠steis, oyeron</p>
                    <p><strong>caerse:</strong> me ca√≠, te ca√≠ste, se cay√≥, nos ca√≠mos, os ca√≠steis, se cayeron</p>
                </div>
            </div>

            <!-- Regular Verbs Section -->
            <div id="regular-verbs" class="section">
                <div class="section-intro">
                    <h2>Regular Verbs (89 Total)</h2>
                    <p>Master all regular -AR, -ER, and -IR verbs! Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-regular" placeholder="üîç Search verbs..." onkeyup="searchVocab('regular')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('regular')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('regular')">Hide All</button>
                    <button class="btn-secondary" onclick="shuffleCards('regular')">Shuffle</button>
                </div>

                <div class="vocab-grid" id="vocab-regular"></div>
            </div>

            <!-- Stem-Changing Verbs -->
            <div id="stem-changing" class="section">
                <div class="section-intro">
                    <h2>Stem-Changing Verbs</h2>
                    <p>e‚Üíie, o‚Üíue, e‚Üíi changes. Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-stem" placeholder="üîç Search verbs..." onkeyup="searchVocab('stem')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('stem')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('stem')">Hide All</button>
                </div>

                <div class="vocab-grid" id="vocab-stem"></div>
            </div>

            <!-- Irregular Verbs -->
            <div id="irregular" class="section">
                <div class="section-intro">
                    <h2>Irregular Verbs</h2>
                    <p>Irregular yo forms & pret√©rito conjugations. Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-irregular" placeholder="üîç Search verbs..." onkeyup="searchVocab('irregular')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('irregular')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('irregular')">Hide All</button>
                </div>

                <div class="vocab-grid" id="vocab-irregular"></div>
            </div>

            <!-- Reflexive Verbs -->
            <div id="reflexive" class="section">
                <div class="section-intro">
                    <h2>Reflexive & Pseudo-Reflexive Verbs</h2>
                    <p>Verbs that use reflexive pronouns. Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-reflexive" placeholder="üîç Search verbs..." onkeyup="searchVocab('reflexive')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('reflexive')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('reflexive')">Hide All</button>
                </div>

                <div class="vocab-grid" id="vocab-reflexive"></div>
            </div>

            <!-- Body Parts -->
            <div id="body" class="section">
                <div class="section-intro">
                    <h2>Body Parts (El cuerpo humano)</h2>
                    <p>Learn all body parts vocabulary. Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-body" placeholder="üîç Search body parts..." onkeyup="searchVocab('body')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('body')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('body')">Hide All</button>
                </div>

                <div class="vocab-grid" id="vocab-body"></div>
            </div>

            <!-- Food Section -->
            <div id="food" class="section">
                <div class="section-intro">
                    <h2>Food, Drinks & Utensils</h2>
                    <p>Complete food vocabulary including utensils. Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-food" placeholder="üîç Search food..." onkeyup="searchVocab('food')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('food')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('food')">Hide All</button>
                </div>

                <div class="vocab-grid" id="vocab-food"></div>
            </div>

            <!-- Clothing -->
            <div id="clothes" class="section">
                <div class="section-intro">
                    <h2>Clothing (La ropa)</h2>
                    <p>All clothing vocabulary. Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-clothes" placeholder="üîç Search clothing..." onkeyup="searchVocab('clothes')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('clothes')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('clothes')">Hide All</button>
                </div>

                <div class="vocab-grid" id="vocab-clothes"></div>
            </div>

            <!-- Places -->
            <div id="places" class="section">
                <div class="section-intro">
                    <h2>Places (Lugares)</h2>
                    <p>Locations in the neighborhood. Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-places" placeholder="üîç Search places..." onkeyup="searchVocab('places')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('places')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('places')">Hide All</button>
                </div>

                <div class="vocab-grid" id="vocab-places"></div>
            </div>

            <!-- Chores -->
            <div id="chores" class="section">
                <div class="section-intro">
                    <h2>Household Chores (Quehaceres dom√©sticos)</h2>
                    <p>All chore-related vocabulary. Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-chores" placeholder="üîç Search chores..." onkeyup="searchVocab('chores')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('chores')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('chores')">Hide All</button>
                </div>

                <div class="vocab-grid" id="vocab-chores"></div>
            </div>

            <!-- Sports -->
            <div id="sports" class="section">
                <div class="section-intro">
                    <h2>Sports & Equipment</h2>
                    <p>Sports vocabulary and equipment. Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-sports" placeholder="üîç Search sports..." onkeyup="searchVocab('sports')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('sports')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('sports')">Hide All</button>
                </div>

                <div class="vocab-grid" id="vocab-sports"></div>
            </div>

            <!-- Party -->
            <div id="party" class="section">
                <div class="section-intro">
                    <h2>Party Planning Vocabulary</h2>
                    <p>Everything about parties and celebrations. Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-party" placeholder="üîç Search party vocab..." onkeyup="searchVocab('party')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('party')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('party')">Hide All</button>
                </div>

                <div class="vocab-grid" id="vocab-party"></div>
            </div>

            <!-- Expressions -->
            <div id="expressions" class="section">
                <div class="section-intro">
                    <h2>Expressions & Phrases</h2>
                    <p>TENER, ESTAR expressions & more. Double-click to mark as mastered.</p>
                </div>

                <input type="text" class="search-box" id="search-expressions" placeholder="üîç Search expressions..." onkeyup="searchVocab('expressions')">

                <div class="controls">
                    <button class="btn-secondary" onclick="revealAll('expressions')">Reveal All</button>
                    <button class="btn-secondary" onclick="hideAll('expressions')">Hide All</button>
                </div>

                <div class="vocab-grid" id="vocab-expressions"></div>
            </div>

            <!-- Enhanced Quiz Mode -->
            <div id="quiz-mode" class="section">
                <div class="section-intro">
                    <h2>Enhanced Quiz Mode</h2>
                    <p>Test yourself with smart hints and feedback! Your quiz scores are saved.</p>
                </div>

                <div class="quiz-container">
                    <div class="quiz-question" id="quiz-question">Click "Next Question" to start!</div>
                    <input type="text" class="quiz-input" id="quiz-answer" placeholder="Type your answer..." onkeypress="handleEnter(event)">
                    <button class="quiz-btn" id="check-btn" onclick="checkQuizAnswer()" disabled>Check Answer</button>
                    <button class="quiz-btn" id="next-btn" onclick="nextQuestion()" disabled>Next Question</button>
                    <div id="quiz-feedback" class="feedback"></div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="quiz-progress" style="width: 0%"></div>
                </div>

                <p style="text-align: center; font-size: 1.3em; margin-top: 20px; font-weight: 600;">
                    Quiz Score: <span style="color: #28a745;"><span id="quiz-score">0</span></span> / <span id="quiz-total">0</span>
                    <br>
                    <span style="font-size: 0.9em; color: #666;">Accuracy: <span id="quiz-accuracy">0%</span></span>
                </p>
            </div>
        </div>
    </div>

    <script>
        // Complete vocabulary data
        const vocabData = {
            regularVerbs: [
                {sp: "ahorrar", en: "to save (money, food, etc)"},
                {sp: "aplaudir", en: "to applaud"},
                {sp: "alquilar", en: "to rent"},
                {sp: "apagar", en: "to turn off (lights, TV, etc)"},
                {sp: "arreglar", en: "to fix"},
                {sp: "ayudar", en: "to help"},
                {sp: "bajar", en: "to go down"},
                {sp: "besar", en: "to kiss"},
                {sp: "buscar", en: "to look for"},
                {sp: "cambiar", en: "to change"},
                {sp: "caminar", en: "to walk"},
                {sp: "cantar", en: "to sing"},
                {sp: "comprar", en: "to buy"},
                {sp: "contestar", en: "to answer, to reply"},
                {sp: "cuidar", en: "to take care of"},
                {sp: "celebrar", en: "to celebrate"},
                {sp: "cenar", en: "to have dinner"},
                {sp: "cocinar", en: "to cook"},
                {sp: "descansar", en: "to rest"},
                {sp: "desear", en: "to wish"},
                {sp: "disfrutar", en: "to enjoy"},
                {sp: "empujar", en: "to push"},
                {sp: "entregar", en: "to hand in, to give out"},
                {sp: "escuchar", en: "to listen"},
                {sp: "esperar", en: "to wait for"},
                {sp: "esquiar", en: "to ski"},
                {sp: "estudiar", en: "to study"},
                {sp: "estacionar", en: "to park (a car, truck, etc)"},
                {sp: "explicar", en: "to explain"},
                {sp: "limpiar", en: "to clean"},
                {sp: "ganar", en: "to earn"},
                {sp: "gritar", en: "to yell"},
                {sp: "firmar", en: "to sign"},
                {sp: "manejar", en: "to drive"},
                {sp: "hablar", en: "to talk, to speak"},
                {sp: "mandar", en: "to send"},
                {sp: "invitar", en: "to invite"},
                {sp: "mirar", en: "to see, to look"},
                {sp: "lavar", en: "to wash"},
                {sp: "necesitar", en: "to need"},
                {sp: "llamar", en: "to call (someone)"},
                {sp: "nadar", en: "to swim"},
                {sp: "llorar", en: "to cry"},
                {sp: "olvidar", en: "to forget"},
                {sp: "llegar", en: "to arrive"},
                {sp: "pagar", en: "to pay"},
                {sp: "llevar", en: "to carry, to take something/someone"},
                {sp: "parar", en: "to stop"},
                {sp: "mascar", en: "to chew"},
                {sp: "pasar", en: "to pass (by)"},
                {sp: "patinar", en: "to roller skate"},
                {sp: "pintar", en: "to color, to paint"},
                {sp: "preguntar", en: "to ask"},
                {sp: "practicar", en: "to practice"},
                {sp: "preparar", en: "to prepare"},
                {sp: "quemar", en: "to burn"},
                {sp: "regalar", en: "to give something as a present"},
                {sp: "regresar", en: "to come back, to return"},
                {sp: "repasar", en: "to review"},
                {sp: "tomar", en: "to drink, to take"},
                {sp: "trabajar", en: "to work"},
                {sp: "sacar", en: "to take out"},
                {sp: "saludar", en: "to greet"},
                {sp: "tocar", en: "to touch, to play an instrument"},
                {sp: "trotar", en: "to jog"},
                {sp: "aprender", en: "to learn"},
                {sp: "beber", en: "to drink"},
                {sp: "comer", en: "to eat"},
                {sp: "comprender", en: "to understand"},
                {sp: "correr", en: "to run"},
                {sp: "deber", en: "must, should"},
                {sp: "leer", en: "to read"},
                {sp: "meter", en: "to put in"},
                {sp: "prometer", en: "to promise"},
                {sp: "prender", en: "to turn on"},
                {sp: "responder", en: "to answer, to reply"},
                {sp: "romper", en: "to break"},
                {sp: "vender", en: "to sell"},
                {sp: "toser", en: "to cough"},
                {sp: "abrir", en: "to open"},
                {sp: "asistir", en: "to attend"},
                {sp: "decidir", en: "to decide"},
                {sp: "escribir", en: "to write"},
                {sp: "recibir", en: "to receive"},
                {sp: "discutir", en: "to argue"},
                {sp: "interrumpir", en: "to interrupt"},
                {sp: "subir", en: "to go up"},
                {sp: "vivir", en: "to live"}
            ],
            stemChanging: [
                {sp: "cerrar", en: "to close (e‚Üíie)"},
                {sp: "cerrar con llave", en: "to lock (e‚Üíie)"},
                {sp: "comenzar", en: "to start (e‚Üíie)"},
                {sp: "comenzar a", en: "to start doing something (e‚Üíie)"},
                {sp: "empezar", en: "to start (e‚Üíie)"},
                {sp: "empezar a", en: "to start doing something (e‚Üíie)"},
                {sp: "pensar", en: "to think (e‚Üíie)"},
                {sp: "entender", en: "to understand (e‚Üíie)"},
                {sp: "perder", en: "to lose, to waste time, to miss (e‚Üíie)"},
                {sp: "querer", en: "to want (e‚Üíie)"},
                {sp: "querer + infinitivo", en: "to want to do something (e‚Üíie)"},
                {sp: "querer a", en: "to love someone (e‚Üíie)"},
                {sp: "mentir", en: "to lie (e‚Üíie)"},
                {sp: "preferir", en: "to prefer (e‚Üíie)"},
                {sp: "almorzar", en: "to have lunch (o‚Üíue)"},
                {sp: "contar", en: "to count, to tell (o‚Üíue)"},
                {sp: "costar", en: "to cost (o‚Üíue)"},
                {sp: "encontrar", en: "to find (o‚Üíue)"},
                {sp: "jugar", en: "to play (u‚Üíue)"},
                {sp: "mostrar", en: "to show (o‚Üíue)"},
                {sp: "probar", en: "to taste (food) (o‚Üíue)"},
                {sp: "recordar", en: "to remember (o‚Üíue)"},
                {sp: "so√±ar (con)", en: "to dream about (o‚Üíue)"},
                {sp: "devolver", en: "to give back (o‚Üíue)"},
                {sp: "poder", en: "to be able to, can (o‚Üíue)"},
                {sp: "volver", en: "to come back (o‚Üíue)"},
                {sp: "dormir", en: "to sleep (o‚Üíue)"},
                {sp: "pedir", en: "to ask for (e‚Üíi)"},
                {sp: "repetir", en: "to repeat (e‚Üíi)"},
                {sp: "seguir", en: "to follow (e‚Üíi)"},
                {sp: "seguir + gerundio", en: "to continue doing something (e‚Üíi)"},
                {sp: "servir", en: "to serve (e‚Üíi)"},
                {sp: "sonre√≠r", en: "to smile (e‚Üíi)"},
                {sp: "re√≠r", en: "to laugh (e‚Üíi)"}
            ],
            irregularVerbs: [
                {sp: "merecer", en: "to deserve (yo: merezco)"},
                {sp: "obedecer", en: "to obey (yo: obedezco)"},
                {sp: "ofrecer", en: "to offer (yo: ofrezco)"},
                {sp: "pertenecer", en: "to belong (yo: pertenezco)"},
                {sp: "conducir", en: "to drive (yo: conduzco)"},
                {sp: "traducir", en: "to translate (yo: traduzco)"},
                {sp: "conocer", en: "to know people/places (yo: conozco)"},
                {sp: "dar", en: "to give (yo: doy)"},
                {sp: "hacer", en: "to do, to make (yo: hago)"},
                {sp: "poner", en: "to put (yo: pongo)"},
                {sp: "traer", en: "to bring (yo: traigo)"},
                {sp: "salir", en: "to go out (yo: salgo)"},
                {sp: "saber", en: "to know facts/information (yo: s√©)"},
                {sp: "ver", en: "to see (yo: veo)"},
                {sp: "decir", en: "to say, to tell (yo: digo)"},
                {sp: "venir", en: "to come (yo: vengo)"},
                {sp: "ser", en: "to be (permanent)"},
                {sp: "estar", en: "to be (temporary/location)"},
                {sp: "ir", en: "to go"},
                {sp: "tener", en: "to have"}
            ],
            reflexiveVerbs: [
                {sp: "despertarse", en: "to wake up (e‚Üíie)"},
                {sp: "sentarse", en: "to sit down (e‚Üíie)"},
                {sp: "acostarse", en: "to go to bed (o‚Üíue)"},
                {sp: "dormirse", en: "to fall asleep (o‚Üíue)"},
                {sp: "darse prisa", en: "to hurry up"},
                {sp: "reunirse (con)", en: "to gather, to meet"},
                {sp: "afeitarse", en: "to shave"},
                {sp: "ba√±arse", en: "to shower"},
                {sp: "burlarse de", en: "to make fun of"},
                {sp: "darse cuenta de", en: "to realize"},
                {sp: "cepillarse", en: "to brush"},
                {sp: "cortarse", en: "to cut (oneself)"},
                {sp: "equivocarse", en: "to make a mistake"},
                {sp: "portarse bien", en: "to behave"},
                {sp: "portarse mal", en: "to misbehave"},
                {sp: "quejarse (de)", en: "to complain"},
                {sp: "lavarse", en: "to wash (oneself)"},
                {sp: "peinarse", en: "to comb"},
                {sp: "prepararse", en: "to get ready"},
                {sp: "quitarse", en: "to take off (clothing)"},
                {sp: "secarse", en: "to dry (oneself)"},
                {sp: "vestirse", en: "to get dressed (e‚Üíi)"},
                {sp: "desvestirse", en: "to get undressed"},
                {sp: "ponerse", en: "to put on"},
                {sp: "aburrirse", en: "to get bored"},
                {sp: "alegrarse (de)", en: "to get happy"},
                {sp: "cansarse (de)", en: "to get tired"},
                {sp: "divertirse", en: "to have fun (e‚Üíie)"},
                {sp: "enfadarse (con)", en: "to get angry"},
                {sp: "enojarse (con)", en: "to get angry"},
                {sp: "impacientarse", en: "to get impatient"},
                {sp: "irritarse", en: "to get irritated"},
                {sp: "preocuparse", en: "to get worried"},
                {sp: "sentirse", en: "to feel (e‚Üíie)"},
                {sp: "mudarse", en: "to move (housing)"},
                {sp: "callarse", en: "to be quiet, to shut up"},
                {sp: "quedarse", en: "to stay"},
                {sp: "despedirse", en: "to say goodbye (e‚Üíi)"},
                {sp: "irse", en: "to leave, to go"},
                {sp: "marcharse", en: "to leave"}
            ],
            bodyParts: [
                {sp: "brazo", en: "arm"},
                {sp: "cuerpo", en: "body"},
                {sp: "oreja", en: "ear"},
                {sp: "ojo", en: "eye"},
                {sp: "cara", en: "face"},
                {sp: "pie/pies", en: "foot/feet"},
                {sp: "dedo", en: "finger"},
                {sp: "pelo", en: "hair"},
                {sp: "mano", en: "hand"},
                {sp: "cabeza", en: "head"},
                {sp: "pierna", en: "leg"},
                {sp: "boca", en: "mouth"},
                {sp: "cuello", en: "neck"},
                {sp: "nariz", en: "nose"},
                {sp: "est√≥mago", en: "stomach"},
                {sp: "diente/dientes", en: "tooth/teeth"},
                {sp: "tobillo", en: "ankle"},
                {sp: "espalda", en: "back"},
                {sp: "vejiga", en: "bladder"},
                {sp: "sangre", en: "blood"},
                {sp: "hueso", en: "bone"},
                {sp: "coraz√≥n", en: "heart"},
                {sp: "cadera", en: "hip"},
                {sp: "mand√≠bula", en: "jaw"},
                {sp: "ri√±√≥n", en: "kidney"},
                {sp: "rodilla", en: "knee"}
            ],
            food: [
                {sp: "carne", en: "meat"},
                {sp: "bistec", en: "steak"},
                {sp: "camarones", en: "shrimp"},
                {sp: "pan", en: "bread"},
                {sp: "arroz", en: "rice"},
                {sp: "frijoles", en: "beans"},
                {sp: "pollo", en: "chicken"},
                {sp: "jam√≥n", en: "ham"},
                {sp: "mariscos", en: "seafood"},
                {sp: "pescado", en: "fish"},
                {sp: "tocino", en: "bacon"},
                {sp: "chorizo", en: "sausage"},
                {sp: "lentejas", en: "lentils"},
                {sp: "sopa", en: "soup"},
                {sp: "mantequilla", en: "butter"},
                {sp: "mermelada", en: "jelly, marmalade"},
                {sp: "sal", en: "salt"},
                {sp: "pimienta", en: "pepper"},
                {sp: "huevos", en: "eggs"},
                {sp: "hielo", en: "ice"},
                {sp: "helado", en: "ice cream"},
                {sp: "galleta", en: "cookie"},
                {sp: "panqueque", en: "pancake"},
                {sp: "fideos", en: "noodles"},
                {sp: "leche", en: "milk"},
                {sp: "jugo", en: "juice"},
                {sp: "naranja", en: "orange"},
                {sp: "pera", en: "pear"},
                {sp: "manzana", en: "apple"},
                {sp: "fresa", en: "strawberry"},
                {sp: "uva", en: "grape"},
                {sp: "pl√°tano/banana", en: "banana"},
                {sp: "ar√°ndanos", en: "blueberries"},
                {sp: "agua", en: "water"},
                {sp: "caf√©", en: "coffee"},
                {sp: "gaseosa/soda", en: "soda"},
                {sp: "limonada", en: "lemonade"},
                {sp: "t√©", en: "tea"},
                {sp: "cuchara", en: "spoon"},
                {sp: "cuchillo", en: "knife"},
                {sp: "cucharita", en: "teaspoon"},
                {sp: "tenedor", en: "fork"},
                {sp: "vaso", en: "glass"},
                {sp: "servilleta", en: "napkin"},
                {sp: "taza", en: "cup"},
                {sp: "plato", en: "plate"},
                {sp: "taz√≥n", en: "bowl"},
                {sp: "esp√°tula", en: "spatula"},
                {sp: "mantel", en: "tablecloth"},
                {sp: "pizza", en: "pizza"},
                {sp: "papitas", en: "chips"},
                {sp: "pastel", en: "cake"},
                {sp: "s√°ndwiches", en: "sandwiches"},
                {sp: "refrescos", en: "drinks"}
            ],
            clothing: [
                {sp: "abrigo", en: "coat"},
                {sp: "pantalones", en: "pants"},
                {sp: "bota(s)", en: "boot(s)"},
                {sp: "zapatos", en: "shoes"},
                {sp: "camisa", en: "shirt"},
                {sp: "falda", en: "skirt"},
                {sp: "camiseta", en: "t-shirt"},
                {sp: "corbata", en: "tie"},
                {sp: "pijama", en: "pajamas"},
                {sp: "chaleco", en: "vest"},
                {sp: "traje", en: "suit"},
                {sp: "vestido", en: "dress"},
                {sp: "gorro", en: "hat"},
                {sp: "sombrero", en: "hat"},
                {sp: "shorts", en: "shorts"},
                {sp: "ropa de ba√±o", en: "bathing suit"},
                {sp: "blusa", en: "blouse"},
                {sp: "medias/calcetines", en: "socks"},
                {sp: "chaqueta", en: "jacket"},
                {sp: "bufanda", en: "scarf"},
                {sp: "guante(s)", en: "glove(s)"},
                {sp: "sandalia(s)", en: "sandal(s)"}
            ],
            places: [
                {sp: "librer√≠a", en: "bookstore"},
                {sp: "biblioteca", en: "library"},
                {sp: "supermercado", en: "supermarket"},
                {sp: "centro comercial", en: "mall"},
                {sp: "farmacia", en: "pharmacy"},
                {sp: "lavander√≠a", en: "laundromat"},
                {sp: "panader√≠a", en: "bakery"},
                {sp: "museo", en: "museum"},
                {sp: "estadio", en: "stadium"},
                {sp: "discoteca", en: "dancing club"},
                {sp: "parque", en: "park"},
                {sp: "peluquer√≠a", en: "hair salon"},
                {sp: "mercado", en: "market"},
                {sp: "acuario", en: "aquarium"},
                {sp: "iglesia", en: "church"},
                {sp: "estacionamiento", en: "parking lot"},
                {sp: "plaza", en: "plaza"},
                {sp: "cementerio", en: "cemetery"},
                {sp: "banco", en: "bank"},
                {sp: "cl√≠nica", en: "clinic"},
                {sp: "hospital", en: "hospital"},
                {sp: "estaci√≥n", en: "station"},
                {sp: "caf√©", en: "caf√©"},
                {sp: "cine", en: "movie theater"},
                {sp: "playa", en: "beach"}
            ],
            chores: [
                {sp: "pasar la aspiradora", en: "to vacuum"},
                {sp: "sacar la basura", en: "to take out the trash"},
                {sp: "lavar los platos", en: "to wash the dishes"},
                {sp: "fregar los platos", en: "to wash the dishes"},
                {sp: "lavar la ropa", en: "to wash clothes"},
                {sp: "doblar la ropa", en: "to fold clothes"},
                {sp: "planchar", en: "to iron"},
                {sp: "cortar el c√©sped", en: "to cut the grass"},
                {sp: "arreglar el dormitorio", en: "to fix the bedroom"},
                {sp: "hacer la cama", en: "to make the bed"},
                {sp: "trapear", en: "to mop"},
                {sp: "sacar a pasear al perro", en: "to walk the dog"},
                {sp: "dar de comer al perro", en: "to feed the dog"},
                {sp: "preparar el desayuno", en: "to prepare breakfast"},
                {sp: "preparar el almuerzo", en: "to prepare lunch"},
                {sp: "preparar la cena", en: "to prepare dinner"},
                {sp: "secar la ropa", en: "to dry the clothes"},
                {sp: "secar los platos", en: "to dry the dishes"},
                {sp: "regar las plantas", en: "to water the plants"},
                {sp: "cuidar el jard√≠n", en: "to take care of the garden"},
                {sp: "lavar el coche", en: "to wash the car"},
                {sp: "limpiar el ba√±o", en: "to clean the bathroom"},
                {sp: "limpiar la sala", en: "to clean the living room"},
                {sp: "quitar la mesa", en: "to clear the table"},
                {sp: "poner la mesa", en: "to set the table"},
                {sp: "quitar el polvo", en: "to dust the furniture"},
                {sp: "sacudir la alfombra", en: "to shake the rug"},
                {sp: "barrer", en: "to sweep"}
            ],
            sports: [
                {sp: "b√°squetbol", en: "basketball"},
                {sp: "b√©isbol", en: "baseball"},
                {sp: "f√∫tbol americano", en: "American football"},
                {sp: "f√∫tbol", en: "soccer"},
                {sp: "nadar", en: "to swim"},
                {sp: "nataci√≥n", en: "swimming"},
                {sp: "patinar", en: "to skate"},
                {sp: "patinar sobre hielo", en: "to ice skate"},
                {sp: "tenis", en: "tennis"},
                {sp: "voleibol", en: "volleyball"},
                {sp: "esgrima", en: "fencing"},
                {sp: "atletismo", en: "track and field"},
                {sp: "bate", en: "bat"},
                {sp: "casco", en: "helmet"},
                {sp: "guante", en: "glove"},
                {sp: "patines", en: "skates"},
                {sp: "pelota", en: "ball"},
                {sp: "raqueta", en: "racket"},
                {sp: "partido", en: "match, game"},
                {sp: "peligroso", en: "dangerous"},
                {sp: "aficionados", en: "fans"},
                {sp: "atleta", en: "athlete"},
                {sp: "campe√≥n", en: "champion"},
                {sp: "campo", en: "field"},
                {sp: "cancha", en: "court"},
                {sp: "equipo", en: "team"},
                {sp: "estadio", en: "stadium"},
                {sp: "ganador", en: "winner"},
                {sp: "jugador", en: "player"},
                {sp: "piscina", en: "pool"},
                {sp: "comprender", en: "to understand"},
                {sp: "reglas", en: "rules"},
                {sp: "favorito", en: "favorite"},
                {sp: "ganar", en: "to win"},
                {sp: "perder", en: "to lose"}
            ],
            party: [
                {sp: "bailar", en: "to dance"},
                {sp: "celebrar", en: "to celebrate"},
                {sp: "cantar", en: "to sing"},
                {sp: "dar una fiesta", en: "to throw a party"},
                {sp: "decoraciones", en: "decorations"},
                {sp: "decorar", en: "to decorate"},
                {sp: "fiesta sorpresa", en: "surprise party"},
                {sp: "globo", en: "balloon"},
                {sp: "invitados", en: "guests"},
                {sp: "invitaci√≥n", en: "invitation"},
                {sp: "invitar a", en: "to invite someone"},
                {sp: "salir", en: "to go out"},
                {sp: "secreto", en: "secret"},
                {sp: "venir", en: "to come"},
                {sp: "abrir", en: "to open"},
                {sp: "buscar", en: "to look for"},
                {sp: "envolver", en: "to wrap (o‚Üíue)"},
                {sp: "papel de regalo", en: "wrapping paper"},
                {sp: "bolsa de regalo", en: "gift bag"},
                {sp: "recibir", en: "to receive"},
                {sp: "regalo", en: "gift, present"},
                {sp: "traer", en: "to bring"},
                {sp: "dar", en: "to give"},
                {sp: "decir", en: "to say"},
                {sp: "poner", en: "to put"}
            ],
            expressions: [
                {sp: "tener a√±os", en: "to be X years old"},
                {sp: "tener suerte", en: "to be lucky"},
                {sp: "tener que", en: "to have to do something"},
                {sp: "tener ganas de", en: "to feel like doing something"},
                {sp: "tener calor", en: "to be hot"},
                {sp: "tener fr√≠o", en: "to be cold"},
                {sp: "tener hambre", en: "to be hungry"},
                {sp: "tener sed", en: "to be thirsty"},
                {sp: "tener raz√≥n", en: "to be right"},
                {sp: "tener cuidado", en: "to be careful"},
                {sp: "tener sue√±o", en: "to be sleepy"},
                {sp: "tener celos", en: "to be jealous"},
                {sp: "tener verg√ºenza", en: "to be embarrassed, to be ashamed"},
                {sp: "tener miedo", en: "to be scared"},
                {sp: "tener la culpa", en: "to be guilty"},
                {sp: "tener prisa", en: "to be in a hurry"},
                {sp: "tener √©xito", en: "to be successful"},
                {sp: "tener dolor de", en: "to have pain"},
                {sp: "estar triste", en: "to be sad"},
                {sp: "estar cansado", en: "to be tired"},
                {sp: "estar preocupado", en: "to be worried"},
                {sp: "estar enfermo", en: "to be sick"},
                {sp: "estar contento", en: "to be happy"},
                {sp: "estar enamorado", en: "to be in love"},
                {sp: "estar furioso", en: "to be furious"},
                {sp: "estar aburrido", en: "to be bored"},
                {sp: "estar de buen humor", en: "to be in a good mood"},
                {sp: "estar de mal humor", en: "to be in a bad mood"},
                {sp: "estar celoso", en: "to be jealous"},
                {sp: "estar ocupado", en: "to be busy"},
                {sp: "estar muerto", en: "to be dead"},
                {sp: "estar embarazada", en: "to be pregnant"},
                {sp: "hay", en: "there is, there are"},
                {sp: "siempre", en: "always"},
                {sp: "nunca", en: "never"},
                {sp: "a veces", en: "sometimes"},
                {sp: "a menudo", en: "often"},
                {sp: "de vez en cuando", en: "once in a while"},
                {sp: "todos los d√≠as", en: "every day"},
                {sp: "tambi√©n", en: "too, as well"},
                {sp: "despu√©s", en: "after, then"},
                {sp: "luego", en: "then, later"},
                {sp: "adem√°s", en: "furthermore, also, besides"},
                {sp: "otra vez", en: "again"},
                {sp: "m√°s", en: "more"},
                {sp: "pero", en: "but"},
                {sp: "sin embargo", en: "however"},
                {sp: "porque", en: "because"},
                {sp: "por lo tanto", en: "therefore"},
                {sp: "finalmente", en: "finally"},
                {sp: "por √∫ltimo", en: "lastly"}
            ]
        };

        // Combine all vocabulary
        let allVocab = [];
        for (let category in vocabData) {
            allVocab = allVocab.concat(vocabData[category]);
        }

        // Quiz variables
        let quizData = [];
        let currentQuizIndex = 0;
        let quizScore = 0;
        let quizTotal = 0;
        let currentAnswer = '';
        let currentQuestion = null;
        let attemptCount = 0;
        let hasChecked = false;

        // LocalStorage functions
        function saveProgress() {
            const masteredWords = [];
            document.querySelectorAll('.vocab-card.mastered').forEach(card => {
                masteredWords.push(card.dataset.spanish);
            });

            const progressData = {
                masteredWords: masteredWords,
                quizScore: quizScore,
                quizTotal: quizTotal,
                lastUpdated: new Date().toISOString()
            };

            localStorage.setItem('spanish3Progress', JSON.stringify(progressData));
            updateProgressDisplay();
        }

        function loadProgress() {
            const saved = localStorage.getItem('spanish3Progress');
            if (saved) {
                const progressData = JSON.parse(saved);

                // Restore mastered words
                progressData.masteredWords.forEach(spanish => {
                    const card = document.querySelector(`[data-spanish="${spanish}"]`);
                    if (card) {
                        card.classList.add('mastered');
                    }
                });

                // Restore quiz stats
                quizScore = progressData.quizScore || 0;
                quizTotal = progressData.quizTotal || 0;

                updateProgressDisplay();
            }
        }

        function updateProgressDisplay() {
            const masteredCount = document.querySelectorAll('.vocab-card.mastered').length;
            document.getElementById('mastered').textContent = masteredCount;
            document.getElementById('mastered-count').textContent = masteredCount;
            document.getElementById('total-quiz-score').textContent = quizScore + '/' + quizTotal;

            const progress = (masteredCount / allVocab.length) * 100;
            document.getElementById('progress-all').style.width = progress + '%';
        }

        function resetProgress() {
            if (confirm('Are you sure you want to reset ALL progress? This cannot be undone!')) {
                localStorage.removeItem('spanish3Progress');
                document.querySelectorAll('.vocab-card').forEach(card => {
                    card.classList.remove('mastered');
                });
                quizScore = 0;
                quizTotal = 0;
                updateProgressDisplay();
                alert('Progress reset successfully!');
            }
        }

        // Initialize vocabulary displays
        function initVocab() {
            createVocabCards('all', allVocab);
            createVocabCards('regular', vocabData.regularVerbs);
            createVocabCards('stem', vocabData.stemChanging);
            createVocabCards('irregular', vocabData.irregularVerbs);
            createVocabCards('reflexive', vocabData.reflexiveVerbs);
            createVocabCards('body', vocabData.bodyParts);
            createVocabCards('food', vocabData.food);
            createVocabCards('clothes', vocabData.clothing);
            createVocabCards('places', vocabData.places);
            createVocabCards('chores', vocabData.chores);
            createVocabCards('sports', vocabData.sports);
            createVocabCards('party', vocabData.party);
            createVocabCards('expressions', vocabData.expressions);

            // Load saved progress after creating cards
            loadProgress();
        }

        function createVocabCards(section, data) {
            const container = document.getElementById('vocab-' + section);
            container.innerHTML = '';

            data.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'vocab-card';
                card.dataset.spanish = item.sp.toLowerCase();
                card.dataset.english = item.en.toLowerCase();
                card.innerHTML = `
                    <span class="reveal-hint">üëÜ Click</span>
                    <div class="spanish">${item.sp}</div>
                    <div class="english">${item.en}</div>
                `;

                // Single click to reveal
                card.onclick = function() {
                    this.classList.toggle('revealed');
                };

                // Double click to mark as mastered
                card.ondblclick = function(e) {
                    e.stopPropagation();
                    this.classList.toggle('mastered');
                    saveProgress();
                };

                container.appendChild(card);
            });
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
        }

        function revealAll(section) {
            document.querySelectorAll('#vocab-' + section + ' .vocab-card').forEach(card => {
                card.classList.add('revealed');
            });
        }

        function hideAll(section) {
            document.querySelectorAll('#vocab-' + section + ' .vocab-card').forEach(card => {
                card.classList.remove('revealed');
            });
        }

        function shuffleCards(section) {
            const container = document.getElementById('vocab-' + section);
            const cards = Array.from(container.children);
            cards.sort(() => Math.random() - 0.5);
            container.innerHTML = '';
            cards.forEach(card => container.appendChild(card));
        }

        function searchVocab(section) {
            const searchTerm = document.getElementById('search-' + section).value.toLowerCase();
            const cards = document.querySelectorAll('#vocab-' + section + ' .vocab-card');

            cards.forEach(card => {
                const spanish = card.dataset.spanish;
                const english = card.dataset.english;

                if (spanish.includes(searchTerm) || english.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Enhanced Quiz Mode Functions
        function nextQuestion() {
            if (quizData.length === 0) {
                quizData = [...allVocab].sort(() => Math.random() - 0.5);
            }

            if (currentQuizIndex >= quizData.length) {
                currentQuizIndex = 0;
                quizData.sort(() => Math.random() - 0.5);
            }

            currentQuestion = quizData[currentQuizIndex];
            currentAnswer = currentQuestion.en.toLowerCase();
            attemptCount = 0;
            hasChecked = false;

            document.getElementById('quiz-question').textContent = 'Translate: ' + currentQuestion.sp;
            document.getElementById('quiz-answer').value = '';

            const feedback = document.getElementById('quiz-feedback');
            feedback.style.display = 'none';
            feedback.className = 'feedback';

            document.getElementById('next-btn').disabled = true;
            document.getElementById('check-btn').disabled = true;

            currentQuizIndex++;

            const progress = (currentQuizIndex / quizData.length) * 100;
            document.getElementById('quiz-progress').style.width = progress + '%';
        }

        function checkQuizAnswer() {
            const userAnswer = document.getElementById('quiz-answer').value.trim().toLowerCase();
            const feedback = document.getElementById('quiz-feedback');

            attemptCount++;

            const isCorrect = userAnswer === currentAnswer || 
                             (currentAnswer.includes(userAnswer) && userAnswer.length > 3) ||
                             currentAnswer.split(',').some(ans => ans.trim() === userAnswer);

            if (isCorrect) {
                feedback.className = 'feedback correct';
                feedback.innerHTML = '‚úì <strong>Correct!</strong> Great job! üéâ<br>Translation: ' + currentAnswer;
                feedback.style.display = 'block';
                quizScore++;
                quizTotal++;
                document.getElementById('next-btn').disabled = false;
                document.getElementById('check-btn').disabled = true;
                hasChecked = true;
                saveProgress();
            } else if (attemptCount === 1) {
                feedback.className = 'feedback hint';
                const hint = currentAnswer.substring(0, 3) + '...';
                feedback.innerHTML = 'üí° <strong>Hint:</strong> The answer starts with "' + hint + '"<br>Try again!';
                feedback.style.display = 'block';
                document.getElementById('check-btn').disabled = true;
                hasChecked = false;
            } else {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = '‚úó <strong>Incorrect.</strong> The correct answer is: <strong>' + currentAnswer + '</strong><br>Keep practicing!';
                feedback.style.display = 'block';
                quizTotal++;
                document.getElementById('next-btn').disabled = false;
                document.getElementById('check-btn').disabled = true;
                hasChecked = true;
                saveProgress();
            }

            document.getElementById('quiz-score').textContent = quizScore;
            document.getElementById('quiz-total').textContent = quizTotal;

            const accuracy = quizTotal > 0 ? Math.round((quizScore / quizTotal) * 100) : 0;
            document.getElementById('quiz-accuracy').textContent = accuracy + '%';
        }

        function handleEnter(event) {
            if (event.key === 'Enter') {
                const checkBtn = document.getElementById('check-btn');
                const nextBtn = document.getElementById('next-btn');

                if (!checkBtn.disabled) {
                    checkQuizAnswer();
                } else if (!nextBtn.disabled) {
                    nextQuestion();
                }
            }
        }

        // Enable check button when user types
        document.addEventListener('DOMContentLoaded', function() {
            const quizInput = document.getElementById('quiz-answer');
            if (quizInput) {
                quizInput.addEventListener('input', function() {
                    const checkBtn = document.getElementById('check-btn');
                    if (this.value.trim().length > 0 && !hasChecked) {
                        checkBtn.disabled = false;
                    } else if (this.value.trim().length === 0) {
                        checkBtn.disabled = true;
                    }
                });
            }
        });

        // Initialize on load
        window.onload = function() {
            initVocab();
            nextQuestion();
        };
    </script>
</body>
</html>
